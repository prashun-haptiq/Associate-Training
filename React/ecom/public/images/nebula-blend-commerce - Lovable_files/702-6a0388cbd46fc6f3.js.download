try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c5dbc4bc-9e4a-4825-b38c-db9a3ca16a4a",e._sentryDebugIdIdentifier="sentry-dbid-c5dbc4bc-9e4a-4825-b38c-db9a3ca16a4a")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{20702:function(e,t,n){"use strict";n.d(t,{t:function(){return B}});var r=n(52155),a=n(99526),i=n(98244),s=n(60504),o=n(37298),l=n(56852),c=n(17195),d=n(59561),u=n(76332),m=n(89671),p=n(83246),x=n(29605),f=n(12703),h=n(19214),j=n(14070),v=n(99792),b=n(77658),g=n(87294),y=n(13273),w=n(94671),N=n(32282);let _=e=>{let{projectId:t,projectName:n,invitor:a,onAccept:s,onReject:o}=e,[l,c]=(0,i.useState)(!1),u=(0,x.NL)(),m=async()=>{c(!0);try{let e=(0,w.SJ)();await e.put("/projects/".concat(t,"/collaborators/accept-invite")),f.Am.success("Invitation accepted!",{description:'You can now access "'.concat(n,'"')}),await u.invalidateQueries({queryKey:N.iZ.sharedWithMe()}),null==s||s()}catch(e){(0,y.Eo)(e)}finally{c(!1)}},p=async()=>{c(!0);try{let e=(0,w.SJ)();await e.put("/projects/".concat(t,"/collaborators/reject-invite")),f.Am.info("Invitation declined",{description:"You've declined the invitation to \"".concat(n,'"')}),await u.invalidateQueries({queryKey:N.iZ.sharedWithMe()}),null==o||o()}catch(e){(0,y.Eo)(e)}finally{c(!1)}};return(0,r.jsxs)(j.cZ,{className:"gap-4 outline-none focus:ring-0",size:"md",hideCloseButton:!0,blurOverlay:!0,onInteractOutside:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,r.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,r.jsx)(b.xx,{className:"h-9"}),(0,r.jsxs)(j.fK,{children:[(0,r.jsx)(j.$N,{className:"text-2xl md:text-3xl",children:"You've been invited!"}),(0,r.jsxs)(j.Be,{children:["You've been invited to collaborate on \"",n,'"',a&&" by ".concat(a)]})]})]}),(0,r.jsxs)(j.cN,{fullWidthButtons:!0,className:"flex-col gap-2",children:[(0,r.jsxs)(d.z,{onClick:e=>{e.preventDefault(),e.stopPropagation(),m()},disabled:l,className:"w-full",children:[(0,r.jsx)(v.Z,{name:"check",size:"small",className:"mr-2"}),"Accept invitation"]}),(0,r.jsxs)(d.z,{onClick:e=>{e.preventDefault(),e.stopPropagation(),p()},disabled:l,className:"w-full",variant:"outline",children:[(0,r.jsx)(v.Z,{name:"close",size:"small",className:"mr-2"}),"Decline invitation"]})]})]})},P=e=>{let{projectId:t,projectName:n,invitor:a,onAccept:s,onReject:o}=e,[l,c]=(0,i.useState)(!1),d=(0,x.NL)(),u=(0,g.Z)("md"),m=(0,h.z)(_),p=async()=>{c(!0);try{let e=(0,w.SJ)();await e.put("/projects/".concat(t,"/collaborators/accept-invite")),f.Am.success("Invitation accepted!",{description:'You can now access "'.concat(n,'"')}),await d.invalidateQueries({queryKey:N.iZ.sharedWithMe()}),m(!1),null==s||s()}catch(e){(0,y.Eo)(e)}finally{c(!1)}},j=async()=>{c(!0);try{let e=(0,w.SJ)();await e.put("/projects/".concat(t,"/collaborators/reject-invite")),f.Am.info("Invitation declined",{description:"You've declined the invitation to \"".concat(n,'"')}),await d.invalidateQueries({queryKey:N.iZ.sharedWithMe()}),null==o||o()}catch(e){(0,y.Eo)(e)}finally{c(!1)}};return u?(0,r.jsxs)("div",{className:"absolute inset-0 flex cursor-pointer flex-col items-center justify-center bg-black/30 p-3",onClick:()=>{u&&m({childProps:{projectId:t,projectName:n,invitor:a,onAccept:p,onReject:j}})},children:[(0,r.jsxs)("div",{className:"mb-4 text-center text-sm text-white",children:["You've been invited to collaborate on \"",n,'"',a&&" by ".concat(a)]}),(0,r.jsx)("div",{className:"text-center text-xs text-white/80",children:"Tap to accept or decline"})]}):(0,r.jsxs)("div",{className:"absolute inset-0 hidden flex-col items-center justify-between bg-black/30 p-3 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",children:[(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-center px-2 text-center text-sm text-white",children:["You've been invited to collaborate on \"",n,'"',a&&" by ".concat(a)]}),(0,r.jsxs)("div",{className:"flex h-1/4 w-full translate-y-8 transform gap-2 transition-transform duration-300 ease-out group-hover:translate-y-0",children:[(0,r.jsx)("div",{role:"button",tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),p()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),p())},className:"flex h-10 w-full cursor-pointer items-center justify-center rounded-xl border-none bg-primary text-primary-foreground transition-colors hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(l?"pointer-events-none opacity-50":""),children:"Accept"}),(0,r.jsx)("div",{role:"button",tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),j()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),j())},className:"flex h-10 w-full cursor-pointer items-center justify-center rounded-xl border border-input bg-background text-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(l?"pointer-events-none opacity-50":""),children:"Decline"})]})]})};var C=n(17176),k=n(28713);let R=e=>{let{handleRemix:t,isRemixing:n,isOpen:a,onClose:i,project:s,remixDisabled:o,remixDisableReason:c}=e,m=(0,C.t)({projectId:s.id}),p=(0,g.Z)("md");return(0,r.jsx)(j.Vq,{open:a,onOpenChange:i,children:(0,r.jsxs)(j.cZ,{className:"flex h-[85vh] max-h-none max-w-[90vw] flex-col rounded-3xl p-4",size:"xl",hideCloseButton:!0,children:[(0,r.jsxs)("div",{className:"flex items-center ".concat(p?"justify-center":"justify-between"),children:[!p&&(0,r.jsx)("div",{className:"flex items-center gap-1.5 truncate pl-0.5",children:(0,r.jsxs)(j.$N,{className:"truncate",children:[s.name,s.authorName&&(0,r.jsxs)("span",{className:"ml-1 text-muted-foreground/50",children:["by ",s.authorName]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.z,{asChild:!0,variant:"outline",className:"flex items-center gap-1",children:(0,r.jsx)(l.default,{href:"/projects/".concat(s.id),children:"Open Project"})}),(0,r.jsx)(u.b,{showTooltip:o,tooltipContent:c,children:(0,r.jsx)(d.z,{onClick:()=>{t({projectId:s.id})},disabled:n||o,loading:n,className:"flex items-center gap-1",children:n?"Remixing...":"Remix"})})]})]}),(0,r.jsx)("div",{className:"flex flex-1 overflow-hidden rounded-lg border",children:(0,r.jsx)("iframe",{sandbox:k.h,src:m,className:"h-full w-full",style:{border:"none",margin:0,padding:0},allow:"accelerometer; autoplay; camera; encrypted-media; fullscreen; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; payment; usb; vr; xr-spatial-tracking; screen-wake-lock; magnetometer; ambient-light-sensor; battery; gamepad; picture-in-picture; display-capture; bluetooth;"})})]})})},D=e=>{let{handleRemix:t,handlePreview:n,isRemixing:a,remixDisabled:i,remixDisableReason:s}=e;return(0,r.jsx)("div",{className:"absolute inset-0 hidden items-end justify-center gap-2 bg-black/30 p-3 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",children:(0,r.jsxs)("div",{className:"flex w-full translate-y-8 transform gap-2 transition-transform duration-300 ease-out group-hover:translate-y-0",children:[(0,r.jsx)(u.b,{className:"w-full",showTooltip:i,tooltipContent:s,children:(0,r.jsx)(d.z,{onClick:t,disabled:a||i,className:"flex h-10 w-full rounded-xl border-none",loading:a,variant:"default",children:a?"Remixing...":"Remix"})}),(0,r.jsx)(d.z,{size:"default",variant:"outline",onClick:n,className:"flex h-10 w-full rounded-xl border-none",children:"Preview"})]})})},E=(0,i.memo)(e=>{var t,n,a,s;let{project:d,previewUrl:u,isCommunityProject:x,isTemplate:f=!1,selectTemplate:h,positionIndex:j,isPendingInvite:v=!1}=e,[b,g]=(0,i.useState)(!1),{mutate:y,isPending:w}=(0,p.G)(),N=e=>{e.preventDefault(),e.stopPropagation(),y({projectId:d.id})},_=e=>{e.preventDefault(),e.stopPropagation(),g(!0)},C=!!d.supabase_project_config,k=C?"This project can't be remixed because it's connected to Supabase":void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{href:u,className:"group relative aspect-video w-full overflow-hidden rounded-xl bg-muted ".concat(v?"cursor-default":""),prefetch:!v,scroll:!1,onClick:e=>{f&&h&&(e.preventDefault(),e.stopPropagation(),h()),v&&e.preventDefault(),e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||!x||(e.preventDefault(),c.ZP.capture(m.SL.COMMUNITY.PROJECT_CLICKED,{project_id:d.id,project_name:d.name,project_category:d.category,position_index:j}),g(!0))},children:d.latest_screenshot_url?(0,r.jsxs)("div",{className:"relative h-full w-full",children:[(0,r.jsx)(o.default,{src:d.latest_screenshot_url,alt:"Screenshot of ".concat(d.name||"project"),className:"rounded-xl border border-muted-border",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover",objectPosition:"top"},draggable:"false"}),v&&(0,r.jsx)(P,{projectId:d.id,projectName:null!==(t=d.name)&&void 0!==t?t:"Untitled Project",invitor:null!==(n=d.user_display_name)&&void 0!==n?n:""}),x&&(0,r.jsx)(D,{handleRemix:N,handlePreview:_,isRemixing:w,remixDisabled:C,remixDisableReason:k})]}):(0,r.jsxs)("div",{className:"relative h-full w-full rounded-xl border border-muted-border bg-muted",children:[v&&(0,r.jsx)(P,{projectId:d.id,projectName:null!==(a=d.name)&&void 0!==a?a:"Untitled Project",invitor:null!==(s=d.user_display_name)&&void 0!==s?s:""}),x&&(0,r.jsx)(D,{handleRemix:N,handlePreview:_,isRemixing:w,remixDisabled:C,remixDisableReason:k})]})}),(0,r.jsx)(R,{handleRemix:y,isRemixing:w,remixDisabled:C,remixDisableReason:k,isOpen:b,onClose:()=>g(!1),project:{id:d.id,name:d.name||"Untitled Project",authorName:d.user_display_name||void 0}})]})});E.displayName="ProjectImage";var I=n(77206),S=n.n(I);function z(){return(0,r.jsx)("span",{className:"bg-foreground before:bg-foreground after:bg-foreground ".concat(S().DotElastic," inline-block")})}let A=e=>{let{project:t}=e;return(0,r.jsx)("p",{className:"overflow-hidden truncate whitespace-nowrap",children:"in_progress"!==t.status||t.name?t.name||t.id:(0,r.jsxs)(r.Fragment,{children:["Dreaming up name",(0,r.jsx)(z,{})]})})};var O=n(84183);let F=(0,i.memo)(e=>{let{supabaseProjectConfig:t,clickable:n=!0}=e;return(0,r.jsxs)(O.u,{children:[(0,r.jsx)(O.aJ,{asChild:!0,children:n?(0,r.jsx)(l.default,{href:"https://supabase.com/dashboard/project/".concat(null==t?void 0:t.supabase_project_id),target:"_blank",children:(0,r.jsx)(b.Cl,{className:"size-4"})}):(0,r.jsx)("div",{children:(0,r.jsx)(b.Cl,{className:"size-4"})})}),(0,r.jsx)(O._v,{children:n?"Click to open in Supabase.":"Connected to Supabase"})]})});F.displayName="SupabaseIcon";var K=n(26073),T=n(95713);let W=e=>{let{updatedAt:t}=e,n=null;return"string"==typeof t?n=new Date(t):t instanceof T.EK&&(n=t.toDate()),n?(0,K.Q)(n,{addSuffix:!0}):""};var Z=n(75970),Y=n(37156),q=n(60468),L=n(87161),J=n(32870),Q=n(26052),U=n(53259),M=n(53883);let X=e=>{let{project:t}=e,{authUser:n}=(0,Z.Eu)(),s=(0,a.useRouter)(),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),{mutate:f,isPending:h}=(0,p.G)(),j=!t.supabase_project_config;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(U.h_,{open:o,onOpenChange:l,children:[(0,r.jsx)(U.$F,{asChild:!0,children:(0,r.jsx)(d.z,{variant:"ghost",size:"icon-sm",className:"mb-auto transition-opacity ".concat(o?"opacity-100":"opacity-100 group-hover:opacity-100 sm:opacity-0 sm:group-hover:opacity-100"),disabled:h,children:(0,r.jsx)(v.Z,{name:"more_horiz",size:"small"})})}),(0,r.jsxs)(U.AW,{align:"end",children:[(0,r.jsxs)(U.Xi,{onClick:e=>{if(e.preventDefault(),e.stopPropagation(),!n){s.push("/login?redirect=".concat(window.location.pathname));return}f({projectId:t.id,includeHistory:!1})},disabled:!j||h,children:[(0,r.jsx)(v.Z,{name:h?"progress_activity":"shuffle",size:"small",className:h?"animate-spin":""}),h?"Remixing...":"Remix",!j&&(0,r.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Unavailable for Supabase projects)"})]}),(0,r.jsxs)(U.Xi,{onClick:()=>{l(!1),u(!0)},children:[(0,r.jsx)(v.Z,{name:"edit_square",size:"small"}),"Rename"]}),(0,r.jsxs)(U.Xi,{onClick:()=>{l(!1),x(!0)},className:"text-destructive-primary",children:[(0,r.jsx)(v.Z,{name:"delete",size:"small"}),"Delete"]})]})]}),(0,r.jsx)(J.i,{project:t,isOpen:c,onClose:()=>u(!1)}),(0,r.jsx)(L.p,{project:t,isOpen:m,onClose:()=>x(!1)})]})},B=(0,i.memo)(e=>{var t,n;let{project:a,isSupabaseClickable:o=!0,showAvatar:l=!0,selectedCategory:c,subtitleType:d="remixes",isCommunityProject:u,positionIndex:m,isTemplate:p=!1,selectTemplate:x}=e,f=null==a?void 0:a.id,{authUser:h}=(0,Z.Eu)(),{userData:j}=(0,Y.SE)(),v=(0,i.useMemo)(()=>!!h&&!!a&&(a.user_id===h.uid||null!=j&&!!j.is_admin),[h,j,a]),b=(0,i.useMemo)(()=>f?"/projects/".concat(f):"",[f]),g=null==a?void 0:null===(t=a.collaboration_status)||void 0===t?void 0:t.is_pending;if(null===a)return(0,r.jsx)(s.R,{});let y=a.remix_count?a.remix_count:0,w=1===y?"1 Remix":"".concat(y," Remixes"),N="all"===c||c!==a.category,_=(()=>{switch(d){case"remixes":return w;case"edit-time":return a.updated_at?"Edited ".concat(W({updatedAt:a.updated_at})):null;case"create-time":return a.created_at?"Created ".concat(W({updatedAt:a.created_at})):null;case"trending-rank":return null!=a.feature_rank?"Ranked ".concat(a.feature_rank):"Ranked -";case"created-by":return a.created_by?"Created by ".concat(a.created_by):null;default:return d}})();return(0,r.jsxs)("div",{className:"group relative flex flex-col",children:[(0,r.jsxs)("div",{className:"relative mb-3 flex flex-col",children:[(0,r.jsx)(E,{project:a,previewUrl:b,isCommunityProject:u,isTemplate:p,selectTemplate:x,positionIndex:m,isPendingInvite:g}),a.is_published&&!u&&(0,r.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 p-2",children:(0,r.jsx)(Q.C,{variant:"secondary",className:"text-xs opacity-50",children:"Published"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[l&&(0,r.jsx)(q.Y,{user:{id:a.user_id,username:a.user_display_name||""},photoURL:null!==(n=a.user_photo_url)&&void 0!==n?n:void 0,className:"h-9 w-9"}),(0,r.jsxs)("div",{className:"flex w-full min-w-0 justify-between",children:[(0,r.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,r.jsx)(A,{project:a}),N&&(0,r.jsx)(M.s,{category:a.category})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[_&&(0,r.jsx)("p",{children:_}),!l&&a.supabase_project_config&&(0,r.jsx)(F,{supabaseProjectConfig:a.supabase_project_config,clickable:o})]})]}),v&&(!l||!p)&&(0,r.jsx)(X,{project:a})]})]})]})});B.displayName="ProjectCard"},60504:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var r=n(52155),a=n(45145),i=n(4578);let s=e=>{let{mainSkeletonClassName:t}=e;return(0,r.jsxs)("div",{className:"group flex flex-col",children:[(0,r.jsx)(a.O,{className:(0,i.cn)("mb-3 aspect-video h-full w-full rounded-lg bg-muted",t)}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 py-1",children:[(0,r.jsx)(a.O,{className:"h-3.5 w-[150px] bg-muted"}),(0,r.jsx)(a.O,{className:"h-3.5 w-[120px] bg-muted"})]})]})}},53883:function(e,t,n){"use strict";n.d(t,{E:function(){return i},s:function(){return o}});var r=n(52155);n(98244);var a=n(4578);let i={internal_tools:"Internal Tools",website:"Website",personal:"Personal",consumer_app:"Consumer App",b2b_app:"B2B App",prototype:"Prototype"},s={internal_tools:"bg-brand-sapphire text-brand-sapphire-foreground",website:"bg-brand-saffron text-brand-saffron-foreground",personal:"bg-brand-bubblegum text-brand-bubblegum-foreground",consumer_app:"bg-brand-flamingo text-brand-flamingo-foreground",b2b_app:"bg-brand-twilight text-brand-twilight-foreground",prototype:"bg-brand-tiger text-brand-tiger-foreground"},o=e=>{let{category:t}=e;if(!t)return null;let n=i[t],o=s[t];return(0,r.jsx)("span",{className:(0,a.cn)("mr-2 inline-block rounded-md px-2 py-0.5 text-xs font-medium",o),title:n,children:n})}},28713:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});let r="allow-scripts allow-same-origin allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-popups-to-escape-sandbox allow-popups allow-downloads allow-storage-access-by-user-activation"},83246:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var r=n(56166),a=n(99526),i=n(12703),s=n(75970),o=n(45776),l=n(94671),c=n(84864);let d={title:"Project remixed",description:"We're taking you to the new project page"},u={unauthorized:"You have to be logged in to remix projects",workspace:"You need to be in a workspace to remix projects",general:"Error remixing project",generalDescription:"Please try again"},m=e=>{let{authUser:t}=(0,s.Eu)(),n=(0,a.useRouter)(),m=(0,o.useCurrentWorkspaceStore)(e=>e.currentWorkspace),p=(null==e?void 0:e.currentWorkspaceId)||(null==m?void 0:m.id),{mutate:x,isPending:f}=(0,r.D)({mutationFn:async e=>{let{projectId:t,includeHistory:n=!1}=e;if(!p){i.Am.error(u.workspace);return}return(0,l.SJ)().post("/projects/".concat(t,"/remix"),{include_history:n,workspace_id:p})},onMutate:()=>{var t;null==e||null===(t=e.onSubmit)||void 0===t||t.call(e)},onSuccess:e=>{e&&(i.Am.success(d.title,{description:d.description}),n.push("/projects/".concat(e.project_id)))},onError:(e,t)=>{let{projectId:n}=t;c.logging.error("Error remixing project",{projectId:n,error:e}),401===e.status?i.Am.error(u.unauthorized):i.Am.error(u.general,{description:u.generalDescription})}});return{mutate:x,isPending:f&&!!t}}},54140:function(e,t,n){"use strict";n.d(t,{N:function(){return l}});var r=n(52155),a=n(98244),i=n(3415),s=n(84183),o=n(4578);let l=e=>{let{name:t,isInteractive:n,className:l,photoSrc:c,userColor:d,isWorkspace:u=!1,tooltipContent:m=t,...p}=e,x=t?t.charAt(0).toUpperCase():"",[f,h]=(0,a.useState)(!1);return(0,r.jsxs)(s.u,{open:!!n&&!!t&&f,onOpenChange:h,children:[(0,r.jsx)(s.aJ,{asChild:!0,children:(0,r.jsxs)(i.qE,{className:(0,o.cn)("h-[26px] w-[26px] shrink-0 border border-transparent text-xs",{["hover:bg-".concat(d)]:!c&&!u&&n,"cursor-pointer":n,["hover:border-".concat(d)]:n,["group-[.avatars]:hover:border-".concat(d)]:n,"group-[.avatars]:border-background":!0,"rounded-[8px] hover:border-transparent":u},l),...p,children:[(0,r.jsx)(i.F$,{className:"aspect-auto object-cover",src:c}),(0,r.jsx)(i.Q5,{className:(0,o.cn)("font-medium text-white bg-".concat(d),u&&"rounded-[8px]",l),children:x})]})}),(0,r.jsx)(s._v,{children:m})]})}},60468:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(52155),a=n(54140),i=n(92887);let s=e=>{var t;let{isInteractive:n=!1,className:s,user:o,photoURL:l,...c}=e,d=(0,i.Q)(null==o?void 0:o.id),u=(null==o?void 0:null===(t=o.attributes)||void 0===t?void 0:t.display_name)||(null==o?void 0:o.username)||(null==o?void 0:o.id);return(0,r.jsx)(a.N,{name:u,isInteractive:n,photoSrc:l,userColor:d,className:s,...c})}},94284:function(e,t,n){"use strict";n.d(t,{_J:function(){return i},aR:function(){return r},c_:function(){return a},gU:function(){return s}}),n(52155),n(59561),n(99792);let r="GPT-Engineer-App",a=(e,t)=>"https://github.com/".concat(t||r,"/").concat(e),i=(e,t,n)=>"".concat(a(e,n),"/commit/").concat(t),s=e=>{var t;let n=null==e?void 0:null===(t=e.github_owner)||void 0===t?void 0:t.name;return!!(n&&n!==r)}},87161:function(e,t,n){"use strict";n.d(t,{p:function(){return j}});var r=n(52155),a=n(29605),i=n(56166),s=n(99526),o=n(98244),l=n(12703),c=n(45776),d=n(94284),u=n(59561),m=n(14070),p=n(13273),x=n(94671),f=n(32282),h=n(76332);let j=e=>{var t,n,j,v,b;let{project:g,isOpen:y,onClose:w,hasActiveLock:N=!1}=e,[_,P]=(0,o.useState)(null),C=(0,s.useRouter)(),k=(0,a.NL)(),R=(0,c.useCurrentWorkspaceStore)(e=>{var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),D=(0,i.D)({mutationFn:async()=>(0,x.SJ)().delete("/projects/".concat(g.id)),onSuccess:e=>{if(k.invalidateQueries({queryKey:f.iZ.all}),k.invalidateQueries({queryKey:f.E.detail(R||"")}),e.deleting_repo)l.Am.success("Project deleted",{description:"Your project has been deleted."});else{var t;C.push("/?deleted=true&projectName=".concat(g.github_repo_name,"&githubOwner=").concat(null===(t=g.github_owner)||void 0===t?void 0:t.name))}w()},onError:e=>{var t;let n=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.detail)||"Something went wrong";(0,p.Eo)(e),P(n)}}),E=async()=>{P(null),await D.mutateAsync()};return(0,r.jsx)(m.Vq,{open:y,onOpenChange:w,children:(0,r.jsxs)(m.cZ,{size:"sm",children:[(0,r.jsxs)(m.fK,{children:[(0,r.jsxs)(m.$N,{children:["Delete ",g.name,"?"]}),(0,r.jsxs)(m.Be,{children:["This action cannot be undone."," ",(0,r.jsx)("span",{className:"text-destructive-primary",children:"This will permanently delete your project."})," ","Including:",(0,r.jsxs)("ul",{className:"my-2 list-disc pl-5 text-left",children:[(0,r.jsx)("li",{children:"Any deployments made with Lovable"}),(0,r.jsx)("li",{children:"All preview links"}),(null==g?void 0:null===(t=g.github_owner)||void 0===t?void 0:t.name)&&!(g.github_owner.name!==d.aR)&&(0,r.jsx)("li",{children:"All generated code"})]}),(null==g?void 0:null===(n=g.github_owner)||void 0===n?void 0:n.name)&&g.github_owner.name!==d.aR&&(0,r.jsxs)("p",{className:"mt-2",children:["Note: The Github repository"," ",(0,r.jsxs)("a",{href:null!==(b=(0,d.c_)(g.github_repo_name,null==g?void 0:null===(j=g.github_owner)||void 0===j?void 0:j.name))&&void 0!==b?b:"#",target:"_blank",rel:"noreferrer",className:"font-medium text-foreground hover:underline",children:[null==g?void 0:null===(v=g.github_owner)||void 0===v?void 0:v.name,"/",null==g?void 0:g.github_repo_name]})," ","will not be deleted."]})]})]}),(0,r.jsxs)(m.cN,{children:[(0,r.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>{w(),P(null)},children:"Cancel"}),(0,r.jsx)(h.b,{showTooltip:N,tooltipContent:"Cannot delete project while there is an active operation in progress (e.g. chat or revert). Please wait for the operation to complete.",children:(0,r.jsx)(u.z,{variant:"destructive",size:"sm",onClick:E,loading:D.isPending,disabled:N,children:D.isPending?"Deleting...":"Delete Project"})})]}),_&&(0,r.jsx)("p",{className:"mt-2 text-sm text-destructive-primary",children:_})]})})}},32870:function(e,t,n){"use strict";n.d(t,{i:function(){return b}});var r=n(52155),a=n(72602),i=n(29605),s=n(56166),o=n(96869),l=n(12703),c=n(25243),d=n(45776),u=n(59561),m=n(14070),p=n(7815),x=n(3011),f=n(13273),h=n(94671),j=n(32282);let v=c.Ry({newProjectName:c.Z_().min(1,"Project name is required").max(45,"Project name must be less than 45 characters").regex(/^[a-z0-9-]+$/,{message:"Project name can only contain lowercase letters, numbers, and hyphens."}).regex(/^(?!.*--).+$/,{message:"Project name cannot contain consecutive hyphens."}).regex(/^[a-z]/,{message:"Project name must start with a lowercase letter."}).regex(/[a-z0-9]$/,{message:"Project name cannot end with a hyphen."})}),b=e=>{let{project:t,isOpen:n,onClose:c}=e,b=(0,i.NL)(),g=(0,d.useCurrentWorkspaceStore)(e=>{var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),y=(0,o.cI)({resolver:(0,a.F)(v),defaultValues:{newProjectName:t.name||""}}),w=(0,s.D)({mutationFn:async e=>{let{name:n}=e;return(0,h.SJ)().put("/projects/".concat(t.id),{name:n})},onSuccess:(e,t)=>{b.invalidateQueries({queryKey:j.iZ.all}),b.invalidateQueries({queryKey:j.E.detail(g||"")}),l.Am.success("Project renamed successfully"),c(),y.reset({newProjectName:t.name})},onError:e=>{(0,f.Eo)(e)}}),N=async e=>{await w.mutateAsync({name:e.newProjectName})},_=!!y.formState.dirtyFields.newProjectName;return(0,r.jsx)(m.Vq,{open:n,onOpenChange:c,children:(0,r.jsxs)(m.cZ,{size:"sm",children:[(0,r.jsxs)(m.fK,{children:[(0,r.jsx)(m.$N,{children:"Rename project"}),(0,r.jsx)(m.Be,{children:(0,r.jsx)("p",{children:"Give your project a new name."})})]}),(0,r.jsx)(p.l0,{...y,children:(0,r.jsxs)("form",{onSubmit:y.handleSubmit(N),className:"flex w-full flex-col gap-4",children:[(0,r.jsx)("div",{className:"w-full space-y-4",children:(0,r.jsx)(p.Wi,{control:y.control,name:"newProjectName",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"Project Name"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(x.I,{placeholder:"Enter new project name",...t})}),!y.formState.errors.newProjectName&&(0,r.jsx)(p.pf,{children:"Use lowercase letters, numbers, and hyphens only. Name must start with a lowercase letter. Example: my-awesome-project"}),(0,r.jsx)(p.zG,{})]})}})}),(0,r.jsxs)(m.cN,{children:[(0,r.jsx)(u.z,{variant:"outline",onClick:c,type:"button",children:"Cancel"}),(0,r.jsx)(u.z,{type:"submit",disabled:!_||w.isPending,loading:w.isPending,children:w.isPending?"Renaming...":"Rename Project"})]})]})})]})})}},3415:function(e,t,n){"use strict";n.d(t,{F$:function(){return l},Q5:function(){return c},qE:function(){return o}});var r=n(52155),a=n(12553),i=n(98244),s=n(4578);let o=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(a.fC,{ref:t,className:(0,s.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...i})});o.displayName=a.fC.displayName;let l=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(a.Ee,{ref:t,className:(0,s.cn)("aspect-square h-full w-full",n),...i})});l.displayName=a.Ee.displayName;let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(a.NY,{ref:t,className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...i})});c.displayName=a.NY.displayName},7815:function(e,t,n){"use strict";n.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return c},lX:function(){return f},pf:function(){return j},xJ:function(){return x},zG:function(){return v}});var r=n(52155),a=n(21622),i=n(98244),s=n(96869),o=n(30335),l=n(4578);let c=s.RV,d=i.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(s.Qr,{...t})})},m=()=>{let e=i.useContext(d),t=i.useContext(p),{getFieldState:n,formState:r}=(0,s.Gc)(),a=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},p=i.createContext({}),x=i.forwardRef((e,t)=>{let{className:n,...a}=e,s=i.useId();return(0,r.jsx)(p.Provider,{value:{id:s},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",n),...a})})});x.displayName="FormItem";let f=i.forwardRef((e,t)=>{let{className:n,...a}=e,{error:i,formItemId:s}=m();return(0,r.jsx)(o.Label,{ref:t,className:(0,l.cn)(i&&"",n),htmlFor:s,...a})});f.displayName="FormLabel";let h=i.forwardRef((e,t)=>{let{...n}=e,{error:i,formItemId:s,formDescriptionId:o,formMessageId:l}=m();return(0,r.jsx)(a.g7,{ref:t,id:s,"aria-describedby":i?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!i,...n})});h.displayName="FormControl";let j=i.forwardRef((e,t)=>{let{className:n,...a}=e,{formDescriptionId:i}=m();return(0,r.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm text-muted-foreground",n),...a})});j.displayName="FormDescription";let v=i.forwardRef((e,t)=>{let{className:n,children:a,...i}=e,{error:s,formMessageId:o}=m(),c=s?String(null==s?void 0:s.message):a;return c?(0,r.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-xs font-medium text-destructive-primary",n),...i,children:c}):null});v.displayName="FormMessage"},30335:function(e,t,n){"use strict";n.d(t,{Label:function(){return c}});var r=n(52155),a=n(30541),i=n(34255),s=n(98244),o=n(4578);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,o.cn)(l(),n),...i})});c.displayName=a.f.displayName},92887:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(98244);let a=["brand-ocean-primary","brand-twilight-primary","brand-flamingo-primary","brand-bubblegum-primary","brand-saffron-primary","brand-tiger-primary"];function i(e){return(0,r.useMemo)(()=>{e||(e="fake-user");let t=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}(e)%a.length;return a[t]},[e])}},17176:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(92104);let a=e=>{let{projectId:t,projectName:n,useCacheBuster:a,sha:i}=e;if(!t&&!n)throw Error("projectId or projectName must be provided");if(t&&n)throw Error("projectId and projectName cannot both be provided");let s=r.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",o=r.env.NEXT_PUBLIC_PROXY_WORKER_PORT?":".concat(r.env.NEXT_PUBLIC_PROXY_WORKER_PORT):"",l=i?"-".concat(i.slice(0,8)):"";try{let e=new URL("".concat(s,"://").concat(void 0!==n?"preview":"id-preview").concat(l,"--").concat(n||t,".").concat("lovable.app").concat(o));return a&&e.searchParams.set("cache",Date.now().toString()),e.toString()}catch(e){return window.location.href="/","/"}}},77206:function(e){e.exports={DotElastic:"AnimatedDots_DotElastic__JXvFf","DotElastic-before":"AnimatedDots_DotElastic-before__gaC87","DotElastic-after":"AnimatedDots_DotElastic-after__CStzD"}}}]);